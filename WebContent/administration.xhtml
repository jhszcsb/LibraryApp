<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link href="css/bootstrap.min.css" rel="stylesheet" />
	<title>Main Page</title>
</h:head>

<h:body>

	 <ui:include src="menu.xhtml" />
	 
	 <div style="width:1000px; height:800px; border:solid; border-width:5px">
	 	<h2>Administration</h2>
	 	<br/><br/>
	 	<h4>Rentals</h4>
	 	<h:form>
	 		<div style="height:250px; width:750px; overflow:auto;">
			 	<h:dataTable value="#{rentalController.items}" var="item"
			 				styleClass="table table-striped table-bordered">
			 		<h:column>
			 			<f:facet name="header">
							<h:outputText value="User" />
						</f:facet>
						<h:outputText value="#{item.user.name}" />
			 		</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Name" />
						</f:facet>
						<h:outputText value="#{item.book.name}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Author" />
						</f:facet>
						<h:outputText value="#{item.book.author}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Status" />
						</f:facet>
						<h:outputText value="#{item.status}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Action" />
						</f:facet>
						<h:commandButton action="#{rentalController.changeStatusToReceivable(item)}" value="Approve Request" 
										rendered="#{rentalController.isRequested(item)}"/>
						<h:commandButton action="#{rentalController.changeStatusToRejected(item)}" value="Reject Request" 
										rendered="#{rentalController.isRequested(item)}"/>
						<h:commandButton action="#{rentalController.changeStatusToRented(item)}" value="Book received by User" 
										rendered="#{rentalController.isReceivable(item)}"/>
						<h:commandButton action="#{rentalController.changeStatusToReturned(item)}" value="Book returned by User" 
										rendered="#{rentalController.isRented(item)}"/>
						<h:commandButton action="#{rentalController.changeStatusToExpired(item)}" value="Book Rental Expired" 
										rendered="#{rentalController.isRented(item)}"/>
						<h:commandButton action="#{rentalController.deleteRental(item)}" value="Delete Rental" />
					</h:column>
				</h:dataTable>
			</div>
			
	 		<h4>Users</h4>
	 		<div style="height:250px; width:350px; overflow:auto;">
		 		<h:dataTable value="#{userController.items}" var="item"
		 					styleClass="table table-striped table-bordered">
		 			<h:column>
						<f:facet name="header">
							<h:outputText value="User Name" />
						</f:facet>
						<h:outputText value="#{item.name}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="User Roles" />
						</f:facet>
						<h:outputText value="#{item.roles}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Action" />
						</f:facet>
						<h:commandButton action="#{a}" value="Delete User" />
					</h:column>
		 		</h:dataTable>
	 		</div>
	 	</h:form>
	 </div>
	
		
</h:body>

</html>